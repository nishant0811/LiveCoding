[{"/home/nod3z/Fiverr/liveCoding/client/src/index.js":"1","/home/nod3z/Fiverr/liveCoding/client/src/App.js":"2","/home/nod3z/Fiverr/liveCoding/client/src/components/Home.js":"3","/home/nod3z/Fiverr/liveCoding/client/src/components/Login.js":"4","/home/nod3z/Fiverr/liveCoding/client/src/components/Register.js":"5","/home/nod3z/Fiverr/liveCoding/client/src/components/NotFound.js":"6","/home/nod3z/Fiverr/liveCoding/client/src/components/Dashboard.js":"7","/home/nod3z/Fiverr/liveCoding/client/src/utils/validate.js":"8"},{"size":142,"mtime":1616592305000,"results":"9","hashOfConfig":"10"},{"size":678,"mtime":1646660503850,"results":"11","hashOfConfig":"10"},{"size":1014,"mtime":1646716316270,"results":"12","hashOfConfig":"10"},{"size":2188,"mtime":1646662454270,"results":"13","hashOfConfig":"10"},{"size":2777,"mtime":1646589941510,"results":"14","hashOfConfig":"10"},{"size":164,"mtime":1646532457230,"results":"15","hashOfConfig":"10"},{"size":159,"mtime":1646660499478,"results":"16","hashOfConfig":"10"},{"size":301,"mtime":1646662234306,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"z6el6r",{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"20"},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"20"},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/nod3z/Fiverr/liveCoding/client/src/index.js",[],["38","39"],"/home/nod3z/Fiverr/liveCoding/client/src/App.js",[],"/home/nod3z/Fiverr/liveCoding/client/src/components/Home.js",[],"/home/nod3z/Fiverr/liveCoding/client/src/components/Login.js",["40"],"import {useState , useEffect } from 'react';\nimport axios from 'axios'\nimport {useNavigate} from 'react-router-dom';\n\nimport \"./css/Login.css\"\nconst Login = () => {\n  const history = useNavigate();\n  const [username , setUsername ] = useState(\"\");\n  const [password , setPassword] = useState(\"\");\n  const [disabled , setDisabled] = useState(false);\n  const [error , setError] = useState(false);\n  const [errorMsg , setErrorMsg]= useState(\"\");\n  const [button , setButton] = useState(\"Login\")\n\n  const updateUserName = (event)=>{\n    setUsername(event.target.value)\n  }\n\n  const updatePass = (event)=>{\n    setPassword(event.target.value)\n  }\n  const handleSubmit = async(event)=>{\n    event.preventDefault();\n    setDisabled(true);\n    setButton(\"Loggin In...\")\n    const data ={\n      username,\n      password\n    }\n\n    let response = await axios.post(\"http://localhost:5000/login\" , data , {\n    withCredentials: true\n  });\n    response = response.data;\n    console.log(response);\n    if(!response.valid){\n      setError(!response.valid);\n      setErrorMsg(response.message);\n      setDisabled(false);\n      setButton(\"Login\")\n      return;\n    }\n\n    localStorage.setItem(\"token\" , response.token);\n    history(\"/dashboard\")\n    setDisabled(false);\n    setButton(\"Login\");\n\n\n  }\n\n\nuseEffect( ()=>{\n  let token = localStorage.getItem(\"token\");\n  console.log(token);\n  const controller = new AbortController();\n  const validateData = async()=>{\n    \n  let valid = await axios.post(\"http://localhost:5000/loggedin\" , { token : token });\n  valid = valid.data;\n    if(!valid.valid){\n      return;\n    }\n    history(\"/dashboard\")\n  }\n  validateData();\n\n  return () => controller.abort();\n},[])\n\n  return (\n    <div className=\"login__container\">\n    <form onSubmit={handleSubmit}>\n    <h2>Login</h2>\n    {\n      (error)?\n      <p>Error : {errorMsg}</p>\n      :\n      <p></p>\n    }\n      <input type=\"text\" value={username} placeholder=\"Username \" onChange={updateUserName} />\n      <input type=\"password\" value={password} placeholder=\"Password \" onChange={updatePass} />\n      <button type=\"Submit\" disabled = {disabled}>{button}</button>\n    </form>\n\n    </div>\n  )\n}\n\nexport default Login\n","/home/nod3z/Fiverr/liveCoding/client/src/components/Register.js",[],"/home/nod3z/Fiverr/liveCoding/client/src/components/NotFound.js",["41"],"import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst NotFound = (props) => {\n  return (\n\n    <h2> Page Not FOund</h2>\n  )\n}\n\nexport default NotFound\n","/home/nod3z/Fiverr/liveCoding/client/src/components/Dashboard.js",["42"],"import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst Dashboard = (props) => {\n  return (\n    <h1>Dashboard</h1>\n  )\n}\n\nexport default Dashboard\n","/home/nod3z/Fiverr/liveCoding/client/src/utils/validate.js",[],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":69,"column":3,"nodeType":"49","endLine":69,"endColumn":5,"suggestions":"50"},{"ruleId":"51","severity":1,"message":"52","line":2,"column":8,"nodeType":"53","messageId":"54","endLine":2,"endColumn":17},{"ruleId":"51","severity":1,"message":"52","line":2,"column":8,"nodeType":"53","messageId":"54","endLine":2,"endColumn":17},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["57"],"no-unused-vars","'PropTypes' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"58","fix":"59"},"Update the dependencies array to be: [history]",{"range":"60","text":"61"},[1688,1690],"[history]"]